The case of case transformation applies to case expressions whose scrutinee is
another case expression, and returns the innermost case expression transformed by repeating
the outermost case expression in each alternative of the innermost case,
scrutinizing the original alternative body.

Intuitively, since the scrutinee of the outermost case is not in WHNF, no
resources from it can directly occur in the outermost alternatives. By moving
the outermost alternatives inwards with a different scrutinee the alternatives
remain well-typed because they are typed using either the case binder or the
pattern bound variables, which, by the \emph{Irrelevance} lemma, makes it
well-typed for any scrutinee consuming arbitrary resources.

\CaseOfCaseTheorem

\todo[inline]{Copy (and redo bit of) proof}

\begin{proof}~
\begin{tabbing}
    (1)
\end{tabbing}
\end{proof}

